(this["webpackJsonphello-world"]=this["webpackJsonphello-world"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(14),r=n.n(a),u=(n(20),n(2)),o=n(5),i=n(0);var j=function(){var e=["Loading.","Loading..","Loading..."],t=Object(c.useState)(e[0]),n=Object(u.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(0),o=Object(u.a)(r,2),j=o[0],l=o[1];return Object(c.useEffect)((function(){j>2&&l(0),a(e[j]),setTimeout(l,1e3,j+1)}),[j]),Object(i.jsx)("div",{children:s})},l=n(3),b=n.n(l),d=n(6);n(35);var f=function(e){var t=function(){var t=Object(d.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={accessToken:e.accessToken,dates:{start:document.getElementById("start").value,end:document.getElementById("end").value}},Object(o.invoke)("GetInfo",n).then((function(t){console.log(t),e.setUsersInfo(t)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log(e.dates.start),console.log(e.dates.end),Object(i.jsxs)("form",{id:"rangeForm",onSubmit:function(e){e.preventDefault()},children:[Object(i.jsx)("input",{id:"start",type:"date",name:"start",label:"Start Date",defaultValue:e.dates.start,onChange:function(t){return e.setDates(t.target.value)}}),Object(i.jsx)("p",{}),Object(i.jsx)("input",{id:"end",type:"date",name:"end",label:"End Date",defaultValue:e.dates.end,onChange:function(e){return setDates(e.target.value)}}),Object(i.jsx)("p",{}),Object(i.jsx)("button",{id:"range-button",onClick:t,children:"submit"})]})};n(36);var m=function(e){function t(){return(t=Object(d.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=document.getElementById("searchEmployee").value).length){t.next=4;break}return e.setListOfUsers(e.usersInfo),t.abrupt("return");case 4:window.open("./Authorize.js","_blank"),e.setListOfUsers(e.usersInfo.filter((function(e){return e.accountName===n})));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(i.jsxs)("form",{id:"searchForm",onSubmit:function(e){e.preventDefault()},children:[Object(i.jsx)("input",{id:"searchEmployee",label:"Search Employee",name:"name",placeholder:"Search",onChange:function(e){return e.target.value}}),Object(i.jsx)("p",{}),Object(i.jsx)("button",{id:"search-button",onClick:function(){return t.apply(this,arguments)},children:"Search"})]})};n(37);function O(e){return Object(i.jsxs)("tr",{className:"body",children:[Object(i.jsx)("td",{children:Object(i.jsx)("img",{className:"image",src:e.macket.accountAvatar})}),Object(i.jsx)("td",{className:"accountName",children:e.macket.accountName}),Object(i.jsx)("td",{className:"numOfComments",children:e.macket.numOfComments}),Object(i.jsx)("td",{className:"numOfCommits",children:e.macket.numOfCommits}),Object(i.jsx)("td",{className:"numOfpullRequests",children:e.macket.numOfpullRequests})]})}n(38);function h(){return Object(i.jsxs)("tr",{id:"head",children:[Object(i.jsx)("th",{className:""}),Object(i.jsx)("th",{className:"name",children:Object(i.jsx)("text",{children:"Name"})}),Object(i.jsx)("th",{className:"jira_comments",children:"Jira comments"}),Object(i.jsx)("th",{className:"bitBucket_Commits",children:"BitBucket Commits"}),Object(i.jsx)("th",{className:"bitBucket_PullRequests",children:"BitBucket PullRequests"})]})}n(39);function x(e){return Object(i.jsxs)("table",{children:[Object(i.jsx)(h,{}),e.macket.map((function(e,t){return Object(i.jsx)(O,{macket:e,index:t})}))]})}n(40);var p=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)([]),l=Object(u.a)(r,2),b=l[0],d=l[1],O=Object(c.useState)(null),h=Object(u.a)(O,2),p=h[0],k=h[1],v=Object(c.useState)(function(){var e=new Date,t=e.getFullYear(),n=e.getMonth();return n<10&&(n="0"+(n+=1)),{start:t+"-"+n+"-01",end:t+"-"+n+"-"+("02"===n||"04"===n||"06"===n||"09"===n||"11"===n?"30":"31")}}()),g=Object(u.a)(v,2),w=g[0],B=g[1],S=Object(c.useState)(Object(i.jsx)(j,{})),y=Object(u.a)(S,2);return y[0],y[1],Object(c.useEffect)((function(){if(0==s.length){var t={accessToken:e.accessToken,dates:w};Object(o.invoke)("GetInfo",t).then((function(e){a(e)}))}})),Object(c.useEffect)((function(){d(s)}),[s]),Object(i.jsxs)("div",{children:[Object(i.jsx)(f,{dates:w,setDates:B,search:p,accessToken:e.accessToken,setUsersInfo:a}),Object(i.jsx)(m,{usersInfo:s,setSearch:k,listOfUsers:b,setListOfUsers:d}),Object(i.jsx)(x,{macket:b})]})},k=n(15);n(41);var v=function(e){var t=function(){var t=Object(d.a)(b.a.mark((function t(){var n,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=document.getElementById("email").value,c=document.getElementById("password").value,s="Basic "+k.a.btoa(n+":"+c),e.setUserBasicToken(s);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)("div",{id:"oauthForm",children:[Object(i.jsx)("input",{id:"email",type:"email",name:"email",label:"Email",defaultValue:"antisoundworld@gmail.com"}),Object(i.jsx)("p",{}),Object(i.jsx)("input",{id:"password",type:"password",name:"password",label:"password",defaultValue:"qweasdzxc117"}),Object(i.jsx)("p",{}),Object(i.jsx)("button",{id:"auth-button",onClick:t,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})};n(42);var g=function(e){return Object(i.jsxs)("form",{id:"mainLabel",children:[Object(i.jsx)("img",{id:"labelBitBucket",src:"https://upload.wikimedia.org/wikipedia/commons/f/fc/Bitbucket_Logo.png"}),Object(i.jsx)(v,{setUserBasicToken:e.setUserBasicToken})]})};n(43);n(44);n(45);var w=function(e){var t=function(){var t=Object(d.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setLabel(Object(i.jsx)(g,{setUserBasicToken:e.setUserBasicToken}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)("form",{id:"message",children:[Object(i.jsx)("text",{children:Object(i.jsx)("h1",{id:"NotAuthorized",children:"Not Authorized"})}),Object(i.jsx)("p",{}),Object(i.jsx)("button",{id:"button",onClick:t,children:"try again"})]})};var B=function(){var e=Object(c.useState)(localStorage.getItem("token")),t=Object(u.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(Object(i.jsx)("h1",{children:"await"})),r=Object(u.a)(a,2),l=r[0],b=r[1],d=Object(c.useState)(null),f=Object(u.a)(d,2),m=f[0],O=f[1],h=Object(c.useState)(null),x=Object(u.a)(h,2),k=x[0],v=x[1];return Object(c.useEffect)((function(){null!=k&&b(Object(i.jsx)(p,{accessToken:k}))}),[k]),Object(c.useEffect)((function(){null!==n?(Object(o.invoke)("checkIsAuthorized",n).then((function(e){v(e.code),O(e.status)})),b(Object(i.jsx)(j,{}))):b(Object(i.jsx)(g,{setUserBasicToken:s}))}),[n]),Object(c.useEffect)((function(){200===m&&null===localStorage.getItem("token")&&localStorage.setItem("token",n),401===m&&b(Object(i.jsx)(w,{setLabel:b,userBasicToken:n}))}),[m]),l};r.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(B,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7ab85c12.chunk.js.map